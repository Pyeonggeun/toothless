<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.mkfactory.toothless.a.student.dm.mapper.DormStudentSqlMapperDm">

	<select id="semesterByProgressState" resultType="com.mkfactory.toothless.a.dto.SemesterDto">
		
		SELECT * FROM TL_A_SEMESTER WHERE PROGRESS_STATE = 'Y'
		
	</select>
	
	<select id="joinDormInfoBySemesterPk" resultType="com.mkfactory.toothless.a.dto.JoinDormInfoDto">
		
		SELECT * FROM TL_A_JOIN_DORM_INFO WHERE SEMESTER_PK = #{semester_pk}
	
	</select>
	
	<select id="dormNoticeAllList" resultType="com.mkfactory.toothless.a.dto.DormNoticeDto">
	
		SELECT * FROM TL_A_DORM_NOTICE ORDER BY dorm_notice_pk DESC
	
	</select>
	
	<select id="staffInfoByStaffPk" resultType="com.mkfactory.toothless.donot.touch.dto.StaffInfoDto">
	
		SELECT * FROM TL_JIC_STAFF_INFO WHERE STAFF_PK = #{STAFF_PK}
	
	</select>
	
	<select id="dormNoticeInsertByDormNoticeDto" resultType="com.mkfactory.toothless.a.dto.DormNoticeDto">
	
		INSERT INTO tl_a_dorm_notice VALUES(
		   tl_a_dorm_notice_seq.nextval,
		   #{staff_pk},
		   #{title},
		   #{content},
		   SYSDATE
		)
	
	</select>
	
	<select id="dormNoticeInfoByDormNoticePk" resultType="com.mkfactory.toothless.a.dto.DormNoticeDto">
	
		SELECT * FROM tl_a_dorm_notice WHERE DORM_NOTICE_PK = #{DORM_NOTICE_PK}
	
	</select>
	
	<delete id="deleteDormNoticeInfoByDormNoticePk">
	
		DELETE FROM tl_a_dorm_notice WHERE DORM_NOTICE_PK = #{DORM_NOTICE_PK}
	
	</delete>
	
	<select id="studentListAll" resultType="com.mkfactory.toothless.donot.touch.dto.StudentInfoDto">
	
		SELECT * FROM TL_JIC_STUDENT_INFO ORDER BY STUDENT_PK ASC 
	
	</select>
	
	<select id="studentInfoByStudentPk" resultType="com.mkfactory.toothless.donot.touch.dto.StudentInfoDto">
	
		SELECT * FROM TL_JIC_STUDENT_INFO WHERE STUDENT_PK = #{STUDENT_PK}
	
	</select>
	
</mapper>