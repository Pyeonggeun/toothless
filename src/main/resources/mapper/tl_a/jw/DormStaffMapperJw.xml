<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mkfactory.toothless.a.staff.jw.mapper.DormStaffMapperJw">

	<select id="selectExitList" resultType="com.mkfactory.toothless.a.dto.ExitDto">
		SELECT * FROM tl_a_exit
	</select>
	
	<!-- <select id="selectAllStudentInDormStudent" resultType="com.mkfactory.toothless.donot.touch.dto.StudentInfoDto">
		SELECT * FROM tl_jic_student_info si
		WHERE si.STUDENT_PK in (
			SELECT ds.DORM_STUDENT_PK FROM TL_A_DORM_STUDENT ds 
		)
	</select>
	
	<select id="selectDormStudentInfoByStudentPk" resultType="com.mkfactory.toothless.a.dto.DormStudentDto">
		SELECT * FROM TL_A_DORM_STUDENT ds
		WHERE ds.STUDENT_PK = #{student_pk}
	</select> -->
	
	<select id="selectStudentInfoByDormStudentPk" resultType="com.mkfactory.toothless.donot.touch.dto.StudentInfoDto">
		SELECT tjsi.* FROM TL_JIC_STUDENT_INFO tjsi
		JOIN TL_A_DORM_STUDENT tads ON TADS.STUDENT_PK = TJSI.STUDENT_PK 
		WHERE TADS.DORM_STUDENT_PK = #{DORM_STUDENT_PK}
	</select>
	
	<select id="selectDormRoomByDormStudentPk" resultType="com.mkfactory.toothless.a.dto.DormRoomDto">
		SELECT tadr.* FROM TL_A_DORM_ROOM tadr 
		JOIN TL_A_DORM_STUDENT tads ON TADS.DORM_ROOM_PK = TADR.DORM_ROOM_PK 
		WHERE TADS.DORM_STUDENT_PK = #{DORM_STUDENT_PK}
	</select>
	
	<select id="selectDormByDormPk" resultType="com.mkfactory.toothless.a.dto.DormBuildingDto">
		SELECT * FROM TL_A_DORM_BUILDING tadb 
		WHERE tadb.DORM_PK = #{DORM_PK}
	</select>
	
	
	
	
	


</mapper>